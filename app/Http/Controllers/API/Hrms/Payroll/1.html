<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hierarchical Navigation System</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 p-4">
    <div class="max-w-7xl mx-auto">
      <h1 class="text-2xl font-bold text-center mb-6 text-gray-800">
        HRMS Navigation System
      </h1>

      <div class="flex gap-2 h-96">
        <!-- Column 1 - Applications -->
        <div
          id="column1"
          class="bg-white border-2 border-gray-300 rounded-lg shadow-md transition-all duration-300 ease-in-out w-80 flex flex-col"
        >
          <div
            class="p-4 border-b border-gray-200 flex justify-between items-center bg-blue-50"
          >
            <span id="title1" class="font-semibold text-gray-700"
              >Applications</span
            >
            <button
              class="p-1 hover:bg-blue-100 rounded transition-colors"
              onclick="toggleColumn(1)"
            >
              <span id="icon1" class="transform transition-transform text-lg"
                >‚óÄ</span
              >
            </button>
          </div>
          <div id="content1" class="flex-1 overflow-y-auto p-2">
            <ul class="space-y-2" id="list1">
              <li
                class="p-3 bg-blue-50 rounded hover:bg-blue-100 cursor-pointer transition-colors border-l-4 border-transparent hover:border-blue-400"
                onclick="selectItem(1, 'HRMS', 'hrms')"
              >
                <div class="font-medium">HRMS</div>
                <div class="text-sm text-gray-600">
                  Human Resource Management System
                </div>
              </li>
              <li
                class="p-3 bg-blue-50 rounded hover:bg-blue-100 cursor-pointer transition-colors border-l-4 border-transparent hover:border-blue-400"
                onclick="selectItem(1, 'CRM', 'crm')"
              >
                <div class="font-medium">CRM</div>
                <div class="text-sm text-gray-600">
                  Customer Relationship Management
                </div>
              </li>
              <li
                class="p-3 bg-blue-50 rounded hover:bg-blue-100 cursor-pointer transition-colors border-l-4 border-transparent hover:border-blue-400"
                onclick="selectItem(1, 'ERP', 'erp')"
              >
                <div class="font-medium">ERP</div>
                <div class="text-sm text-gray-600">
                  Enterprise Resource Planning
                </div>
              </li>
              <li
                class="p-3 bg-blue-50 rounded hover:bg-blue-100 cursor-pointer transition-colors border-l-4 border-transparent hover:border-blue-400"
                onclick="selectItem(1, 'Project Management', 'pm')"
              >
                <div class="font-medium">Project Management</div>
                <div class="text-sm text-gray-600">
                  Task and Project Tracking
                </div>
              </li>
            </ul>
          </div>
        </div>

        <!-- Column 2 - Modules -->
        <div
          id="column2"
          class="bg-white border-2 border-gray-300 rounded-lg shadow-md transition-all duration-300 ease-in-out w-80 flex flex-col opacity-50"
        >
          <div
            class="p-4 border-b border-gray-200 flex justify-between items-center bg-green-50"
          >
            <span id="title2" class="font-semibold text-gray-700">Modules</span>
            <button
              class="p-1 hover:bg-green-100 rounded transition-colors"
              onclick="toggleColumn(2)"
            >
              <span id="icon2" class="transform transition-transform text-lg"
                >‚óÄ</span
              >
            </button>
          </div>
          <div id="content2" class="flex-1 overflow-y-auto p-2">
            <div class="text-center text-gray-500 mt-8">
              <div class="text-4xl mb-2">üìã</div>
              <div>Select an application to view modules</div>
            </div>
            <ul class="space-y-2 hidden" id="list2"></ul>
          </div>
        </div>

        <!-- Column 3 - Sections -->
        <div
          id="column3"
          class="bg-white border-2 border-gray-300 rounded-lg shadow-md transition-all duration-300 ease-in-out w-80 flex flex-col opacity-50"
        >
          <div
            class="p-4 border-b border-gray-200 flex justify-between items-center bg-yellow-50"
          >
            <span id="title3" class="font-semibold text-gray-700"
              >Sections</span
            >
            <button
              class="p-1 hover:bg-yellow-100 rounded transition-colors"
              onclick="toggleColumn(3)"
            >
              <span id="icon3" class="transform transition-transform text-lg"
                >‚óÄ</span
              >
            </button>
          </div>
          <div id="content3" class="flex-1 overflow-y-auto p-2">
            <div class="text-center text-gray-500 mt-8">
              <div class="text-4xl mb-2">‚öôÔ∏è</div>
              <div>Select a module to view sections</div>
            </div>
            <ul class="space-y-2 hidden" id="list3"></ul>
          </div>
        </div>

        <!-- Column 4 - Components -->
        <div
          id="column4"
          class="bg-white border-2 border-gray-300 rounded-lg shadow-md transition-all duration-300 ease-in-out w-80 flex flex-col opacity-50"
        >
          <div
            class="p-4 border-b border-gray-200 flex justify-between items-center bg-purple-50"
          >
            <span id="title4" class="font-semibold text-gray-700"
              >Components</span
            >
            <button
              class="p-1 hover:bg-purple-100 rounded transition-colors"
              onclick="toggleColumn(4)"
            >
              <span id="icon4" class="transform transition-transform text-lg"
                >‚óÄ</span
              >
            </button>
          </div>
          <div id="content4" class="flex-1 overflow-y-auto p-2">
            <div class="text-center text-gray-500 mt-8">
              <div class="text-4xl mb-2">üîß</div>
              <div>Select a section to view components</div>
            </div>
            <ul class="space-y-2 hidden" id="list4"></ul>
          </div>
        </div>
      </div>

      <!-- Breadcrumb -->
      <div class="mt-4 p-3 bg-white rounded-lg shadow-sm border">
        <div class="text-sm text-gray-600 mb-1">Current Selection:</div>
        <div id="breadcrumb" class="text-lg font-medium text-gray-800">
          Select an application to start
        </div>
      </div>
    </div>

    <script>
      // Hierarchical data structure
      const data = {
        hrms: {
          name: "HRMS",
          modules: {
            payroll: {
              name: "Payroll Management",
              sections: {
                salary: {
                  name: "Salary Management",
                  components: [
                    "Basic Salary Setup",
                    "Allowances Configuration",
                    "Deductions Setup",
                    "Tax Calculations",
                    "Salary Slips",
                  ],
                },
                overtime: {
                  name: "Overtime Management",
                  components: [
                    "Overtime Rates",
                    "Overtime Approval",
                    "Overtime Reports",
                    "Policy Settings",
                  ],
                },
                bonus: {
                  name: "Bonus & Incentives",
                  components: [
                    "Performance Bonus",
                    "Festival Bonus",
                    "Incentive Plans",
                    "Bonus Calculations",
                  ],
                },
              },
            },
            attendance: {
              name: "Attendance Management",
              sections: {
                tracking: {
                  name: "Time Tracking",
                  components: [
                    "Clock In/Out",
                    "Break Management",
                    "Location Tracking",
                    "Device Integration",
                  ],
                },
                leave: {
                  name: "Leave Management",
                  components: [
                    "Leave Applications",
                    "Leave Approval",
                    "Leave Balance",
                    "Holiday Calendar",
                  ],
                },
                shifts: {
                  name: "Shift Management",
                  components: [
                    "Shift Scheduling",
                    "Shift Swapping",
                    "Shift Reports",
                    "Flexible Hours",
                  ],
                },
              },
            },
            employee: {
              name: "Employee Management",
              sections: {
                profile: {
                  name: "Employee Profiles",
                  components: [
                    "Personal Details",
                    "Contact Information",
                    "Emergency Contacts",
                    "Document Storage",
                  ],
                },
                onboarding: {
                  name: "Onboarding",
                  components: [
                    "Welcome Process",
                    "Document Collection",
                    "Training Assignment",
                    "Checklist Management",
                  ],
                },
              },
            },
          },
        },
        crm: {
          name: "CRM",
          modules: {
            leads: {
              name: "Lead Management",
              sections: {
                capture: {
                  name: "Lead Capture",
                  components: [
                    "Web Forms",
                    "Email Integration",
                    "Social Media Leads",
                    "Import Tools",
                  ],
                },
                nurturing: {
                  name: "Lead Nurturing",
                  components: [
                    "Email Campaigns",
                    "Follow-up Tasks",
                    "Scoring System",
                    "Automation Rules",
                  ],
                },
              },
            },
            sales: {
              name: "Sales Management",
              sections: {
                pipeline: {
                  name: "Sales Pipeline",
                  components: [
                    "Deal Stages",
                    "Opportunity Tracking",
                    "Sales Forecasting",
                    "Pipeline Reports",
                  ],
                },
                quotes: {
                  name: "Quotes & Proposals",
                  components: [
                    "Quote Generation",
                    "Proposal Templates",
                    "Pricing Rules",
                    "Approval Workflow",
                  ],
                },
              },
            },
          },
        },
        erp: {
          name: "ERP",
          modules: {
            inventory: {
              name: "Inventory Management",
              sections: {
                stock: {
                  name: "Stock Management",
                  components: [
                    "Stock Levels",
                    "Reorder Points",
                    "Stock Movements",
                    "Warehouse Management",
                  ],
                },
              },
            },
            finance: {
              name: "Financial Management",
              sections: {
                accounting: {
                  name: "Accounting",
                  components: [
                    "General Ledger",
                    "Accounts Payable",
                    "Accounts Receivable",
                    "Financial Reports",
                  ],
                },
              },
            },
          },
        },
        pm: {
          name: "Project Management",
          modules: {
            projects: {
              name: "Project Planning",
              sections: {
                tasks: {
                  name: "Task Management",
                  components: [
                    "Task Creation",
                    "Task Assignment",
                    "Progress Tracking",
                    "Dependencies",
                  ],
                },
                timeline: {
                  name: "Timeline Management",
                  components: [
                    "Gantt Charts",
                    "Milestones",
                    "Deadlines",
                    "Resource Allocation",
                  ],
                },
              },
            },
          },
        },
      };

      let selectedPath = [];

      function selectItem(level, displayName, key) {
        // Update selected path - add current selection
        selectedPath = selectedPath.slice(0, level - 1);
        selectedPath.push({ name: displayName, key: key });

        // Update visual selection
        updateSelection(level, displayName);

        // Clear subsequent levels before populating the next one
        clearSubsequentLevels(level + 1);

        // Populate next level
        populateNextLevel(level, key);

        // Update breadcrumb
        updateBreadcrumb();
      }

      function updateSelection(level, selectedName) {
        const listItems = document.querySelectorAll(`#list${level} li`);
        listItems.forEach((item) => {
          item.classList.remove(
            "bg-blue-200",
            "bg-green-200",
            "bg-yellow-200",
            "bg-purple-200",
            "border-blue-500",
            "border-green-500",
            "border-yellow-500",
            "border-purple-500"
          );
          if (level === 1) item.classList.add("bg-blue-50");
          else if (level === 2) item.classList.add("bg-green-50");
          else if (level === 3) item.classList.add("bg-yellow-50");
          else if (level === 4) item.classList.add("bg-purple-50");
        });

        const selectedItem = Array.from(listItems).find((item) =>
          item.textContent.includes(selectedName)
        );
        if (selectedItem) {
          selectedItem.classList.remove(
            "bg-blue-50",
            "bg-green-50",
            "bg-yellow-50",
            "bg-purple-50"
          );
          if (level === 1)
            selectedItem.classList.add("bg-blue-200", "border-blue-500");
          else if (level === 2)
            selectedItem.classList.add("bg-green-200", "border-green-500");
          else if (level === 3)
            selectedItem.classList.add("bg-yellow-200", "border-yellow-500");
          else if (level === 4)
            selectedItem.classList.add("bg-purple-200", "border-purple-500");
        }
      }

      function populateNextLevel(currentLevel, selectedKey) {
        const nextLevel = currentLevel + 1;
        if (nextLevel > 4) return;

        let nextData = null;
        let colorClass = "";

        if (nextLevel === 2) {
          // Populate modules based on selected application
          nextData = data[selectedKey]?.modules;
          colorClass = "bg-green-50 hover:bg-green-100 hover:border-green-400";
        } else if (nextLevel === 3) {
          // Populate sections based on selected module
          const applicationKey = selectedPath[0]?.key;
          nextData = data[applicationKey]?.modules[selectedKey]?.sections;
          colorClass =
            "bg-yellow-50 hover:bg-yellow-100 hover:border-yellow-400";
        } else if (nextLevel === 4) {
          // Populate components based on selected section
          const applicationKey = selectedPath[0]?.key;
          const moduleKey = selectedPath[1]?.key;
          nextData =
            data[applicationKey]?.modules[moduleKey]?.sections[selectedKey]
              ?.components;
          colorClass =
            "bg-purple-50 hover:bg-purple-100 hover:border-purple-400";
        }

        const nextList = document.getElementById(`list${nextLevel}`);
        const nextColumn = document.getElementById(`column${nextLevel}`);
        const emptyState = nextColumn.querySelector(".text-center");

        if (nextData) {
          nextColumn.classList.remove("opacity-50");
          nextList.classList.remove("hidden");
          emptyState.classList.add("hidden");
          nextList.innerHTML = "";

          if (Array.isArray(nextData)) {
            // Components level
            nextData.forEach((component) => {
              const li = document.createElement("li");
              li.className = `p-3 ${colorClass} rounded cursor-pointer transition-colors border-l-4 border-transparent`;
              li.innerHTML = `<div class="font-medium">${component}</div>`;
              li.onclick = () =>
                selectItem(
                  nextLevel,
                  component,
                  component.toLowerCase().replace(/\s+/g, "-")
                );
              nextList.appendChild(li);
            });
          } else {
            // Modules or Sections level
            Object.entries(nextData).forEach(([key, value]) => {
              const li = document.createElement("li");
              li.className = `p-3 ${colorClass} rounded cursor-pointer transition-colors border-l-4 border-transparent`;
              li.innerHTML = `<div class="font-medium">${value.name}</div>`;
              li.onclick = () => selectItem(nextLevel, value.name, key);
              nextList.appendChild(li);
            });
          }
        }
      }

      function clearSubsequentLevels(fromLevel) {
        for (let i = fromLevel; i <= 4; i++) {
          const column = document.getElementById(`column${i}`);
          const list = document.getElementById(`list${i}`);
          const emptyState = column.querySelector(".text-center");

          column.classList.add("opacity-50");
          list.classList.add("hidden");
          emptyState.classList.remove("hidden");
          list.innerHTML = "";
        }
      }

      function updateBreadcrumb() {
        const breadcrumb = document.getElementById("breadcrumb");
        if (selectedPath.length === 0) {
          breadcrumb.textContent = "Select an application to start";
        } else {
          breadcrumb.textContent = selectedPath
            .map((item) => item.name)
            .join(" > ");
        }
      }

      function toggleColumn(columnNumber) {
        const column = document.getElementById(`column${columnNumber}`);
        const content = document.getElementById(`content${columnNumber}`);
        const title = document.getElementById(`title${columnNumber}`);
        const icon = document.getElementById(`icon${columnNumber}`);

        const isCollapsed = column.classList.contains("w-12");

        if (isCollapsed) {
          // Expand
          column.classList.remove("w-12");
          column.classList.add("w-80");
          content.classList.remove("hidden");
          title.classList.remove("hidden");
          icon.textContent = "‚óÄ";
          icon.style.transform = "rotate(0deg)";
        } else {
          // Collapse
          column.classList.remove("w-80");
          column.classList.add("w-12");
          content.classList.add("hidden");
          title.classList.add("hidden");
          icon.textContent = "‚ñ∂";
          icon.style.transform = "rotate(0deg)";
        }
      }
    </script>
  </body>
</html>
